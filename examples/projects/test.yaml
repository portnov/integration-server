title: Test project

directory: /home/portnov/src/integration-server/test/

host-by-environment:
  home: lenovo
  work: local

nginx-conf-path:
  production: /etc/nginx
  $$: .

hosts:
  local:
    host: localhost
    port: 2345
    login: portnov
    path: /home/portnov/temp/test/
    known-hosts: /home/portnov/.ssh/known_hosts
    public-key:  /home/portnov/.ssh/id_rsa.pub
    private-key: /home/portnov/.ssh/id_rsa

  lenovo:
    host: lenovo.local
    port: 2345
    path: /home/portnov/temp/test/
    known-hosts: /home/portnov/.ssh/known_hosts
    public-key:  /home/portnov/.ssh/id_rsa.pub
    private-key: /home/portnov/.ssh/id_rsa

phases:
  build:
    where: ${host-by-environment[environment]}
    actions: [all, clean]
    create-files:
      nginx.conf: ${nginx-conf-path[target]}/nginx.conf
    executor: make
